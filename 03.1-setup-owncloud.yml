---
# Setup ownCloud
#
# Use ansible-playbook without extra arguments:
#
#     ansible-playbook 03.1-setup-owncloud.yml
#
- name: setups owncloud
  remote_user: "{{ administrator_name }}"
  become: yes

  # Configurations will be applied only on servers designated to host an ownCloud instance
  hosts: servers_vendors_owncloud

  vars_files:
    # Some vault vars have to be loaded to not let
    # host_vars files loading fail.
    - vault/administrators.yml

    # Will be used by this playbook
    - vault/databases.yml
    - vault/vendors.yml

  roles:
    - role: owncloud
